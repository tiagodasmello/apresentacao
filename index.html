<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hist√≥ria Interativa: Tudo Meu!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }
        .slide {
            width: 100vw;
            height: 100vh;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            box-sizing: border-box;
            transition: opacity 0.5s ease-in-out;
        }
        .slide.active {
            display: flex;
        }
        .slide-content {
            max-width: 900px;
            width: 95%;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            height: 300px;
            margin: auto;
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-[#FDF6E3] text-[#5C4033]">

    <main id="presentation-container" class="relative w-full h-full">
        <!-- Slide 1: In√≠cio -->
        <section id="inicio" class="slide active bg-[#FDF6E3]">
            <div class="slide-content bg-[#FEFBF2] p-6 md:p-10 rounded-2xl shadow-lg text-center">
                 <header class="text-center mb-6">
                    <h1 class="text-4xl md:text-5xl font-bold text-[#D57149]">Tudo Meu?</h1>
                    <p class="text-lg md:text-xl mt-2 text-[#7f5539]">Uma hist√≥ria interativa sobre gratid√£o, d√≠zimos e ofertas.</p>
                </header>
                <h2 class="text-2xl font-bold text-[#D57149] mb-4">O In√≠cio da Hist√≥ria ü§î</h2>
                <p class="text-base md:text-lg mb-4">Voc√™ j√° ouviu algu√©m dizer: "Isso √© MEU!"? √Äs vezes, n√≥s tamb√©m pensamos assim. Mas a B√≠blia nos conta que, antigamente, algumas pessoas esqueciam de agradecer a Deus. Elas pegavam tudo que ganhavam e n√£o separavam uma parte para cuidar da casa de Deus, a igreja. Isso deixava o cora√ß√£o de Deus triste.</p>
                <div class="text-center text-sm text-[#7f5539] bg-[#FDF6E3] p-3 rounded-lg">
                    <p>Vamos descobrir juntos uma forma mais bonita de pensar sobre as coisas que ganhamos!</p>
                </div>
            </div>
        </section>

        <!-- Slide 2: Solu√ß√£o -->
        <section id="solucao" class="slide bg-[#FDF6E3]">
            <div class="slide-content bg-[#FEFBF2] p-6 md:p-8 rounded-2xl shadow-lg max-h-[90vh] overflow-y-auto no-scrollbar">
                <h2 class="text-2xl font-bold text-[#D57149] mb-4 text-center">A Solu√ß√£o: D√≠zimo e Oferta! üí°</h2>
                <p class="text-base md:text-lg mb-6 text-center">Deus nos ensinou uma maneira especial de mostrar nossa gratid√£o: com o d√≠zimo e a oferta. Esse dinheiro √© usado para cuidar da nossa igreja: pagar a luz, a √°gua, comprar materiais para as aulinhas e manter tudo lindo!</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-[#FDF6E3] p-4 rounded-lg">
                        <h3 class="font-bold text-lg text-center mb-2">O que √© o D√≠zimo?</h3>
                        <p class="text-center text-sm mb-4">De cada 10 coisas que ganhamos, 1 pertence a Deus. Veja com 10 moedinhas:</p>
                        <div id="coin-grid" class="grid grid-cols-5 gap-2 max-w-xs mx-auto mb-4">
                            <!-- Coins will be generated by JS -->
                        </div>
                        <div class="text-center">
                          <button id="give-tithe-btn" class="bg-[#D57149] text-white font-bold py-2 px-4 rounded-full hover:bg-[#b95d3a] transition">Mostrar D√≠zimo</button>
                        </div>
                    </div>
                    <div class="bg-[#FDF6E3] p-4 rounded-lg flex flex-col justify-center">
                        <h3 class="font-bold text-lg text-center mb-2">E a Oferta? ‚ù§Ô∏è</h3>
                        <p class="text-center text-sm">A oferta √© um presente que damos a Deus, al√©m do d√≠zimo. √â um valor que damos com o cora√ß√£o cheio de alegria e gratid√£o por tudo que Ele faz por n√≥s!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 3: Promessa -->
        <section id="promessa" class="slide bg-[#FDF6E3]">
            <div class="slide-content bg-[#FEFBF2] p-6 md:p-10 rounded-2xl shadow-lg text-center">
                <h2 class="text-2xl font-bold text-[#D57149] mb-4">A Promessa de Deus üíñ</h2>
                <p class="text-base md:text-lg mb-6">Para quem √© fiel e generoso, Deus faz uma promessa incr√≠vel. E Jesus nos lembra que o amor de Deus nunca muda!</p>
                <div class="space-y-4">
                    <div class="bg-[#FDF6E3] p-4 rounded-lg">
                        <p class="font-semibold">Jesus disse:</p>
                        <p class="text-lg italic text-[#7f5539]">"Eu sou o mesmo, ontem, hoje e para sempre!"</p>
                    </div>
                    <div class="bg-[#FDF6E3] p-4 rounded-lg">
                        <p class="font-semibold">E em Malaquias 3:10, Deus promete:</p>
                        <p class="text-lg italic text-[#7f5539]">"...vejam se n√£o vou abrir as comportas dos c√©us e derramar sobre voc√™s tantas b√™n√ß√£os que nem ter√£o onde guard√°-las."</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Slide 4: Pr√°tica -->
        <section id="pratica" class="slide bg-[#FDF6E3]">
            <div class="slide-content bg-[#FEFBF2] p-6 md:p-8 rounded-2xl shadow-lg text-center max-h-[90vh] overflow-y-auto no-scrollbar">
                 <h2 class="text-2xl font-bold text-[#D57149] mb-4">Vamos Praticar: A Fatia do Bolo! üç∞</h2>
                 <p class="text-base md:text-lg mb-4">Imagine que voc√™ ganhou um bolo de anivers√°rio com 10 fatias. O d√≠zimo √© como separar a primeira fatia para agradecer a Deus por todo o bolo!</p>
                 <div class="chart-container">
                    <canvas id="cakeChart"></canvas>
                </div>
                <div id="cake-message" class="font-semibold text-lg my-4 h-8"></div>
                <div class="flex justify-center gap-4">
                    <button id="give-slice-btn" class="bg-[#84a98c] text-white font-bold py-2 px-5 rounded-full hover:bg-[#6b8e71] transition">Dar o D√≠zimo</button>
                    <button id="reset-cake-btn" class="bg-[#D57149] text-white font-bold py-2 px-5 rounded-full hover:bg-[#b95d3a] transition">Recome√ßar</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Navigation -->
    <div class="presentation-nav flex justify-center items-center fixed bottom-5 left-1/2 -translate-x-1/2 z-10 space-x-4">
        <button id="prev-btn" class="nav-arrow bg-[#D57149] text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition transform hover:scale-110 disabled:opacity-50 text-2xl font-bold">‚Üê</button>
        <span id="slide-counter" class="text-[#5C4033] font-semibold bg-[#FEFBF2] py-2 px-4 rounded-full shadow-md">1 / 4</span>
        <button id="next-btn" class="nav-arrow bg-[#D57149] text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition transform hover:scale-110 disabled:opacity-50 text-2xl font-bold">‚Üí</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            const totalSlides = slides.length;

            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const slideCounter = document.getElementById('slide-counter');

            const coinGrid = document.getElementById('coin-grid');
            const giveTitheBtn = document.getElementById('give-tithe-btn');
            
            let cakeChart;
            const cakeMessage = document.getElementById('cake-message');
            const giveSliceBtn = document.getElementById('give-slice-btn');
            const resetCakeBtn = document.getElementById('reset-cake-btn');
            const cakeCanvas = document.getElementById('cakeChart');
            
            const baseCakeColor = '#EAD2AC';
            const titheCakeColor = '#FFD700';

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });

                slideCounter.textContent = `${index + 1} / ${totalSlides}`;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === totalSlides - 1;

                // Initialize animations/charts for the current slide
                if (slides[index].id === 'solucao') {
                    setupCoins();
                }
                if (slides[index].id === 'pratica' && cakeCanvas) {
                    renderCakeChart();
                }
            }

            nextBtn.addEventListener('click', () => {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    showSlide(currentSlide);
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            });

            function setupCoins() {
                coinGrid.innerHTML = '';
                for (let i = 0; i < 10; i++) {
                    const coin = document.createElement('div');
                    coin.classList.add('coin', 'w-10', 'h-10', 'bg-[#FFD700]', 'rounded-full', 'flex', 'items-center', 'justify-center', 'text-[#DAA520]', 'font-bold', 'shadow-inner', 'transition-all', 'duration-500');
                    coin.textContent = '$';
                    coinGrid.appendChild(coin);
                }
            }

            giveTitheBtn.addEventListener('click', () => {
                setupCoins(); // Reset coins before animation
                setTimeout(() => {
                    const coins = coinGrid.querySelectorAll('.coin');
                    if (coins.length > 0) {
                        const titheCoin = coins[0];
                        titheCoin.style.transform = 'translateY(-20px) scale(1.1)';
                        titheCoin.style.backgroundColor = '#FDF6E3';
                        titheCoin.style.color = '#D57149';
                        titheCoin.textContent = 'üíñ';
                    }
                }, 100);
            });
            
            function createCakeData(activeIndex = -1) {
                const colors = Array(10).fill(baseCakeColor);
                if (activeIndex !== -1) {
                    colors[activeIndex] = titheCakeColor;
                }
                return {
                    labels: Array(10).fill('Fatia'),
                    datasets: [{
                        label: 'Fatias do Bolo',
                        data: Array(10).fill(1),
                        backgroundColor: colors,
                        borderColor: '#FEFBF2',
                        borderWidth: 2
                    }]
                };
            }

            function renderCakeChart() {
                if (cakeChart) {
                    cakeChart.destroy();
                }
                const ctx = cakeCanvas.getContext('2d');
                cakeChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: createCakeData(),
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: { enabled: false }
                        },
                        animation: {
                            animateScale: true,
                            animateRotate: true
                        }
                    }
                });
                cakeMessage.textContent = 'O bolo est√° pronto!';
                cakeMessage.style.color = '#5C4033';
            }

            giveSliceBtn.addEventListener('click', () => {
                if (cakeChart) {
                    cakeChart.data = createCakeData(0);
                    cakeChart.update();
                    cakeMessage.textContent = 'Obrigado por seu cora√ß√£o generoso!';
                    cakeMessage.style.color = '#84a98c';
                }
            });

            resetCakeBtn.addEventListener('click', () => {
                if (cakeChart) {
                    renderCakeChart();
                }
            });
            
            // Initial setup
            showSlide(currentSlide);
        });
    </script>
</body>
</html>

